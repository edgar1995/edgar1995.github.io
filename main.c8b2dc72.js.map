{"version":3,"file":"js/main.c8b2dc72.js","mappings":"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","sources":["webpack://photo-editor/./src/assets/icons/color-circle.svg","webpack://photo-editor/./src/modules/shared/data/sharedStore.ts","webpack://photo-editor/./src/modules/editor/data/editorStore.ts","webpack://photo-editor/./src/modules/editor/hooks/useIsImageSelected.ts","webpack://photo-editor/./src/modules/editor/data/editorContext.ts","webpack://photo-editor/./src/modules/editor/hooks/useCanvasRef.ts","webpack://photo-editor/./src/modules/editor/hooks/useCanvasCtxRef.ts","webpack://photo-editor/./src/modules/editor/hooks/useImageRef.ts","webpack://photo-editor/./src/modules/shared/hooks/useDrawCanvas.ts","webpack://photo-editor/./src/modules/editor/hooks/useHiddenCanvasRef.ts","webpack://photo-editor/./src/modules/shared/hooks/useCanvasDimensions.ts","webpack://photo-editor/./src/modules/editor/components/ImagePicker/imagePicker.module.scss?c411","webpack://photo-editor/./src/modules/editor/components/ImagePicker/ImagePicker.tsx","webpack://photo-editor/./src/modules/shared/hooks/useSelectedTool.ts","webpack://photo-editor/./src/modules/color/data/colorStore.ts","webpack://photo-editor/./src/modules/color/hooks/useSelectedColor.ts","webpack://photo-editor/./src/modules/color/hooks/useBlocksCount.ts","webpack://photo-editor/./src/modules/shared/data/sharedEnums.ts","webpack://photo-editor/./src/modules/color/utils/rgbToHex.ts","webpack://photo-editor/./src/assets/icons/color-picker.svg","webpack://photo-editor/./src/modules/color/components/ColorPickerPreview/colorPickerPreview.module.scss?8f44","webpack://photo-editor/./src/modules/color/components/ColorPickerPreview/ColorPickerPreview.tsx","webpack://photo-editor/./src/modules/shared/hooks/useCoords.ts","webpack://photo-editor/./src/modules/shared/hooks/useMouseIsOut.ts","webpack://photo-editor/./src/modules/shared/components/Sidebar/sidebar.module.scss?8d11","webpack://photo-editor/./src/modules/shared/components/Sidebar/Sidebar.tsx","webpack://photo-editor/./src/modules/shared/components/Header/header.module.scss?72ae","webpack://photo-editor/./src/modules/shared/components/Header/Header.tsx","webpack://photo-editor/./src/modules/editor/components/Editor/editor.module.scss?2c86","webpack://photo-editor/./src/modules/editor/components/Editor/Editor.tsx","webpack://photo-editor/./src/app/App.tsx","webpack://photo-editor/./src/index.tsx","webpack://photo-editor/webpack/bootstrap","webpack://photo-editor/webpack/runtime/chunk loaded","webpack://photo-editor/webpack/runtime/compat get default export","webpack://photo-editor/webpack/runtime/define property getters","webpack://photo-editor/webpack/runtime/hasOwnProperty shorthand","webpack://photo-editor/webpack/runtime/jsonp chunk loading","webpack://photo-editor/webpack/startup"],"sourcesContent":["var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgColorCircle = function SvgColorCircle(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 170,\n    height: 170,\n    fill: \"none\",\n    viewBox: \"0 0 160 160\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M80 148c37.555 0 68-30.445 68-68s-30.445-68-68-68-68 30.445-68 68 30.445 68 68 68Zm0 12c44.183 0 80-35.817 80-80S124.183 0 80 0 0 35.817 0 80s35.817 80 80 80Z\",\n    clipRule: \"evenodd\"\n  })));\n};\nexport default SvgColorCircle;","import { atom } from 'recoil';\n\nimport { type Tool } from './sharedEnums';\n\nexport const selectedToolAtom = atom<Tool | null>({\n  key: 'selectedToolAtom',\n  default: null,\n});\n\nexport const coordsAtom = atom<{ x: number; y: number }>({\n  key: 'coordsAtom',\n  default: { x: 0, y: 0 },\n});\n\nexport const canvasDimensionsAtom = atom<DOMRect | undefined>({\n  key: 'canvasDimensionsAtom',\n  default: undefined,\n});\n\nexport const mouseIsOutAtom = atom<boolean>({\n  key: 'mouseIsOutAtom',\n  default: true,\n});\n","import { atom } from 'recoil';\n\nexport const isImageSelectedAtom = atom<boolean>({\n  key: 'isImageSelectedAtom',\n  default: false,\n});\n","import { useRecoilState } from 'recoil';\n\nimport { isImageSelectedAtom } from '../data/editorStore';\n\nexport const useIsImageSelected = () => useRecoilState(isImageSelectedAtom);\n","import { createContext, type MutableRefObject } from 'react';\n\ninterface IEditorContext {\n  canvasCtxRef: MutableRefObject<CanvasRenderingContext2D | null> | null;\n  hiddenCanvasRef: MutableRefObject<HTMLCanvasElement | null> | null;\n  canvasRef: MutableRefObject<HTMLCanvasElement | null> | null;\n  imageRef: MutableRefObject<HTMLImageElement | null> | null;\n}\n\nexport const editorContext: IEditorContext = {\n  hiddenCanvasRef: null,\n  canvasCtxRef: null,\n  canvasRef: null,\n  imageRef: null,\n};\n\nexport const EditorContext = createContext(editorContext);\n","import { useContext } from 'react';\nimport { EditorContext } from '../data/editorContext';\n\nexport const useCanvasRef = () => {\n  const { canvasRef } = useContext(EditorContext);\n\n  return canvasRef;\n};\n","import { useContext } from 'react';\nimport { EditorContext } from '../data/editorContext';\n\nexport const useCanvasCtxRef = () => {\n  const { canvasCtxRef } = useContext(EditorContext);\n\n  return canvasCtxRef;\n};\n","import { useContext } from 'react';\n\nimport { EditorContext } from '../data/editorContext';\n\nexport const useImageRef = () => {\n  const { imageRef } = useContext(EditorContext);\n\n  return imageRef;\n};\n","import { useCallback } from 'react';\n\nimport { useHiddenCanvasRef } from '../../editor/hooks/useHiddenCanvasRef';\nimport { useCanvasCtxRef } from '../../editor/hooks/useCanvasCtxRef';\nimport { useCanvasRef } from '../../editor/hooks/useCanvasRef';\nimport { useImageRef } from '../../editor/hooks/useImageRef';\n\nimport { type IDimension } from '../data/sharedTypes';\n\nexport const useDrawCanvas = () => {\n  const hiddenCanvasRef = useHiddenCanvasRef();\n  const canvasCtxRef = useCanvasCtxRef();\n  const canvasRef = useCanvasRef();\n  const imageRef = useImageRef();\n\n  const drawCanvas = useCallback(\n    (canvasDimensions: IDimension) => {\n      const imageElement = imageRef!.current!;\n\n      const dpr = window.devicePixelRatio;\n\n      const hiddenCtx = hiddenCanvasRef!.current!.getContext('2d', { alpha: false, willReadFrequently: true })!;\n      const ctx = canvasRef!.current!.getContext('2d', { alpha: false, willReadFrequently: true })!;\n\n      const scaleY1 = imageElement.height / canvasDimensions.height;\n      const scaleX1 = imageElement.width / canvasDimensions.width;\n\n      const scaleY2 = 1 / scaleY1;\n      const scaleX2 = 1 / scaleX1;\n\n      const scale = Math.min(scaleX1, scaleY1, scaleX2, scaleY2);\n\n      canvasRef!.current!.style.height = `${imageElement.height * scale}px`;\n      canvasRef!.current!.style.width = `${imageElement.width * scale}px`;\n\n      hiddenCanvasRef!.current!.style.height = `${imageElement.height * scale}px`;\n      hiddenCanvasRef!.current!.style.width = `${imageElement.width * scale}px`;\n\n      canvasRef!.current!.height = imageElement.height * scale * dpr;\n      canvasRef!.current!.width = imageElement.width * scale * dpr;\n\n      hiddenCanvasRef!.current!.height = imageElement.height * scale;\n      hiddenCanvasRef!.current!.width = imageElement.width * scale;\n\n      ctx.scale(scale * dpr, scale * dpr);\n      hiddenCtx.scale(scale, scale);\n\n      ctx.drawImage(imageElement, 0, 0, imageElement.width, imageElement.height);\n      hiddenCtx.drawImage(imageElement, 0, 0, imageElement.width, imageElement.height);\n\n      canvasCtxRef!.current = hiddenCtx;\n    },\n    [canvasCtxRef, canvasRef, hiddenCanvasRef, imageRef]\n  );\n\n  return { drawCanvas };\n};\n","import { useContext } from 'react';\nimport { EditorContext } from '../data/editorContext';\n\nexport const useHiddenCanvasRef = () => {\n  const { hiddenCanvasRef } = useContext(EditorContext);\n\n  return hiddenCanvasRef;\n};\n","import { useEffect } from 'react';\nimport { useRecoilState } from 'recoil';\n\nimport { canvasDimensionsAtom } from '../data/sharedStore';\n\nimport { useIsImageSelected } from '../../editor/hooks/useIsImageSelected';\nimport { useCanvasRef } from '../../editor/hooks/useCanvasRef';\nimport { useDrawCanvas } from './useDrawCanvas';\n\nexport const useCanvasDimensions = () => {\n  const [canvasDimensions, setCanvasDimensions] = useRecoilState(canvasDimensionsAtom);\n  const [isImageSelected] = useIsImageSelected();\n  const { drawCanvas } = useDrawCanvas();\n  const canvasRef = useCanvasRef();\n\n  useEffect(() => {\n    const onResize = () => {\n      const dimensions = canvasRef!.current!.parentElement!.getClientRects()[0]!;\n\n      drawCanvas(dimensions);\n\n      setCanvasDimensions(dimensions);\n    };\n\n    if (isImageSelected) {\n      window.addEventListener('resize', onResize);\n    }\n\n    return () => window.removeEventListener('resize', onResize);\n  }, [canvasRef, isImageSelected, drawCanvas, setCanvasDimensions]);\n\n  useEffect(() => {\n    const dimensions = canvasRef!.current!.parentElement!.getClientRects()[0];\n\n    setCanvasDimensions(dimensions);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return { canvasDimensions, setCanvasDimensions };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"imagePicker-module_wrapper__fvBI9\",\"hidden\":\"imagePicker-module_hidden__AVjDX\",\"title\":\"imagePicker-module_title__Y5W8v\"};","import { type ChangeEvent, type FC, useEffect, useRef } from 'react';\nimport cx from 'classnames';\n\nimport { useCanvasDimensions } from '../../../shared/hooks/useCanvasDimensions';\nimport { useDrawCanvas } from '../../../shared/hooks/useDrawCanvas';\nimport { useIsImageSelected } from '../../hooks/useIsImageSelected';\nimport { useImageRef } from '../../hooks/useImageRef';\n\nimport styles from './imagePicker.module.scss';\n\nexport const ImagePicker: FC = () => {\n  const [imageSelected, setIsImageSelected] = useIsImageSelected();\n  const { canvasDimensions } = useCanvasDimensions();\n  const { drawCanvas } = useDrawCanvas();\n  const imageRef = useImageRef();\n\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\n\n  const handleFileChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const image = event.target.files?.[0];\n\n    if (image) {\n      const imageElement = document.createElement('img');\n\n      imageElement.onload = () => {\n        imageRef!.current = imageElement;\n\n        drawCanvas(canvasDimensions!);\n\n        setIsImageSelected(true);\n      };\n\n      imageElement.src = URL.createObjectURL(image);\n    }\n  };\n\n  useEffect(() => {\n    if (!imageSelected && fileInputRef.current !== null && fileInputRef.current.value) {\n      fileInputRef.current.value = '';\n    }\n  }, [imageSelected]);\n\n  return (\n    <div className={cx(styles.wrapper, { [styles.hidden]: imageSelected })}>\n      <input\n        accept=\"image/jpeg, image/png\"\n        onChange={handleFileChange}\n        className={styles.hidden}\n        ref={fileInputRef}\n        type=\"file\"\n      />\n      <p role=\"presentation\" onClick={() => fileInputRef.current?.click()} className={styles.title}>\n        Select image...\n      </p>\n    </div>\n  );\n};\n","import { useRecoilState } from 'recoil';\n\nimport { selectedToolAtom } from '../data/sharedStore';\nimport { type Tool } from '../data/sharedEnums';\n\nexport const useSelectedTool = () => {\n  const [selectedTool, setSelectedTool] = useRecoilState(selectedToolAtom);\n\n  const toggleSelectedTool = (tool: Tool | null) => {\n    if (selectedTool === tool) {\n      setSelectedTool(null);\n\n      return;\n    }\n\n    setSelectedTool(tool);\n  };\n\n  return {\n    toggleSelectedTool,\n    selectedTool,\n  };\n};\n","import { atom } from 'recoil';\n\nexport const selectedColorAtom = atom<string>({\n  key: 'selectedColorAtom',\n  default: '',\n});\n\nexport const blocksCountAtom = atom<number>({\n  key: 'blocksCountAtom',\n  default: 15,\n});\n","import { useRecoilState } from 'recoil';\n\nimport { selectedColorAtom } from '../data/colorStore';\n\nexport const useSelectedColor = () => useRecoilState(selectedColorAtom);\n","import { useRecoilState } from 'recoil';\n\nimport { blocksCountAtom } from '../data/colorStore';\n\nexport const useBlocksCount = () => useRecoilState(blocksCountAtom);\n","export enum Tool {\n  ColorPicker,\n}\n","export const rgbToHex = (r = 0, g = 0, b = 0) => {\n  if (r > 255 || g > 255 || b > 255) {\n    console.error('Invalid color component');\n  }\n\n  return ((r << 16) | (g << 8) | b).toString(16);\n};\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgColorPicker = function SvgColorPicker(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M13.407 2.927c.395.396.593.88.593 1.453a1.96 1.96 0 0 1-.593 1.438l-2.016 2 1.078 1.093a.51.51 0 0 1 .156.376.53.53 0 0 1-.547.547.512.512 0 0 1-.375-.157l-1.078-1.094-5.531 5.532a.654.654 0 0 1-.235.172.796.796 0 0 1-.281.046h-1.86a.734.734 0 0 1-.515-.203.733.733 0 0 1-.203-.515v-1.86c0-.104.015-.198.047-.281a.653.653 0 0 1 .172-.235L7.75 5.708 6.657 4.63a.511.511 0 0 1-.157-.375.53.53 0 0 1 .547-.546c.146 0 .271.052.375.156l1.093 1.078 2-2.016a1.959 1.959 0 0 1 1.438-.594c.574 0 1.058.198 1.454.594Zm-8.97 10.329 5.406-5.407-1.36-1.359-5.406 5.407v1.359h1.36Z\"\n  })));\n};\nexport default SvgColorPicker;","// extracted by mini-css-extract-plugin\nexport default {\"previewWrapper\":\"colorPickerPreview-module_previewWrapper__HIRF9\",\"circle\":\"colorPickerPreview-module_circle__bLOm6\",\"blocksWrapper\":\"colorPickerPreview-module_blocksWrapper__lBVIw\",\"currentColor\":\"colorPickerPreview-module_currentColor__HSN9m\"};","import { type FC, useCallback, useEffect, useRef, useState } from 'react';\n\nimport { useCanvasDimensions } from '../../../shared/hooks/useCanvasDimensions';\nimport { useSelectedTool } from '../../../shared/hooks/useSelectedTool';\nimport { useCanvasCtxRef } from '../../../editor/hooks/useCanvasCtxRef';\nimport { useMouseIsOut } from '../../../shared/hooks/useMouseIsOut';\nimport { useCanvasRef } from '../../../editor/hooks/useCanvasRef';\nimport { useSelectedColor } from '../../hooks/useSelectedColor';\nimport { useBlocksCount } from '../../hooks/useBlocksCount';\nimport { useCoords } from '../../../shared/hooks/useCoords';\n\nimport { Tool } from '../../../shared/data/sharedEnums';\n\nimport { rgbToHex } from '../../utils/rgbToHex';\n\nimport Circle from '../../../../assets/icons/color-circle.svg';\n\nimport styles from './colorPickerPreview.module.scss';\n\nconst PREVIEW_GAP = 10;\n\nexport const ColorPickerPreview: FC = () => {\n  const [colors, setColors] = useState<string[]>([]);\n\n  const { canvasDimensions } = useCanvasDimensions();\n  const [, setSelectedColor] = useSelectedColor();\n  const { selectedTool } = useSelectedTool();\n  const [coords, setCoords] = useCoords();\n  const [blocksCount] = useBlocksCount();\n  const canvasCtxRef = useCanvasCtxRef();\n  const mouseIsOut = useMouseIsOut();\n  const canvasRef = useCanvasRef();\n\n  const previewerRef = useRef<HTMLDivElement | null>(null);\n\n  const onMouseMove = useCallback(\n    (event: MouseEvent) => {\n      const x = event.pageX - canvasDimensions!.left;\n      const y = event.pageY - canvasDimensions!.top;\n\n      setCoords({ x, y });\n\n      const pixels = canvasCtxRef!.current!.getImageData(\n        x - blocksCount,\n        y - blocksCount,\n        2 * blocksCount + 1,\n        2 * blocksCount + 1\n      ).data;\n\n      const newColors = [];\n\n      for (let i = 0; i < pixels.length; i += 4) {\n        const hex = rgbToHex(pixels[i], pixels[i + 1], pixels[i + 2]);\n\n        const color = hex === '0' ? 'black' : '#' + ('000000' + hex).slice(-6);\n\n        newColors.push(color);\n      }\n\n      setColors(newColors);\n    },\n    [blocksCount, canvasCtxRef, canvasDimensions, setCoords]\n  );\n\n  const onSelectColor = useCallback(\n    (event: MouseEvent) => {\n      const x = event.pageX - canvasDimensions!.left;\n      const y = event.pageY - canvasDimensions!.top;\n\n      setCoords({ x, y });\n\n      const pixels = canvasCtxRef!.current!.getImageData(x, y, 1, 1).data;\n\n      const hex = rgbToHex(pixels[0], pixels[1], pixels[2]);\n\n      const color = hex === '0' ? 'black' : '#' + ('000000' + hex).slice(-6);\n\n      setSelectedColor(color);\n    },\n    [canvasCtxRef, canvasDimensions, setCoords, setSelectedColor]\n  );\n\n  const isPicking = selectedTool === Tool.ColorPicker;\n\n  useEffect(() => {\n    const canvas = canvasRef?.current;\n\n    if (isPicking) {\n      canvas?.addEventListener('mousemove', onMouseMove);\n      canvas?.addEventListener('click', onSelectColor);\n    }\n\n    return () => {\n      canvas?.removeEventListener('mousemove', onMouseMove);\n      canvas?.removeEventListener('click', onSelectColor);\n    };\n  }, [canvasRef, onMouseMove, onSelectColor, isPicking]);\n\n  const midIndex = (colors.length - 1) / 2;\n\n  const display = isPicking && !mouseIsOut && colors.length ? 'flex' : 'none';\n  let left = (canvasDimensions?.left ?? 0) + coords.x + PREVIEW_GAP;\n  let top = (canvasDimensions?.top ?? 0) + coords.y + PREVIEW_GAP;\n\n  const previewHeight = previewerRef.current?.clientHeight ?? 0;\n  const previewWidth = previewerRef.current?.clientWidth ?? 0;\n\n  const overlayTop = top + previewHeight > window.innerHeight ? previewHeight + 2 * PREVIEW_GAP : 0;\n  const overlayLeft = left + previewWidth > window.innerWidth ? previewWidth + 2 * PREVIEW_GAP : 0;\n\n  left -= overlayLeft;\n  top -= overlayTop;\n\n  return (\n    <div\n      style={{\n        display,\n        left,\n        top,\n      }}\n      className={styles.previewWrapper}\n      ref={previewerRef}\n    >\n      <Circle className={styles.circle} color={colors[midIndex]} />\n      <div className={styles.blocksWrapper}>\n        {colors.map((backgroundColor, index) => (\n          <div\n            style={{\n              border: '0.5px solid gray',\n              borderBottomColor: index === midIndex || index === midIndex - (2 * blocksCount + 1) ? 'white' : 'gray',\n              borderTopColor: index === midIndex || index === midIndex + (2 * blocksCount + 1) ? 'white' : 'gray',\n              borderRightColor: index === midIndex || index === midIndex - 1 ? 'white' : 'gray',\n              borderLeftColor: index === midIndex || index === midIndex + 1 ? 'white' : 'gray',\n              flexBasis: `calc(100% / ${2 * blocksCount + 1})`,\n              backgroundColor,\n            }}\n            key={index}\n          />\n        ))}\n        <p className={styles.currentColor}>{colors[midIndex]}</p>\n      </div>\n    </div>\n  );\n};\n","import { useRecoilState } from 'recoil';\n\nimport { coordsAtom } from '../data/sharedStore';\n\nexport const useCoords = () => useRecoilState(coordsAtom);\n","import { useEffect } from 'react';\nimport { useRecoilState } from 'recoil';\n\nimport { mouseIsOutAtom } from '../data/sharedStore';\n\nimport { useCanvasRef } from '../../editor/hooks/useCanvasRef';\n\nexport const useMouseIsOut = () => {\n  const [mouseIsOut, setMouseIsOut] = useRecoilState(mouseIsOutAtom);\n  const canvasRef = useCanvasRef();\n\n  useEffect(() => {\n    const canvas = canvasRef?.current;\n\n    const onMouseLeave = () => setMouseIsOut(true);\n    const onMouseEnter = () => setMouseIsOut(false);\n\n    canvas?.addEventListener('mouseleave', onMouseLeave);\n    canvas?.addEventListener('mouseenter', onMouseEnter);\n\n    return () => {\n      canvas?.removeEventListener('mouseleave', onMouseLeave);\n      canvas?.removeEventListener('mouseenter', onMouseEnter);\n    };\n  }, [canvasRef, setMouseIsOut]);\n\n  return mouseIsOut;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"sidebar\":\"sidebar-module_sidebar__zxVv9\",\"tool\":\"sidebar-module_tool__AxGnj\",\"selected\":\"sidebar-module_selected__y6wYp\",\"disabled\":\"sidebar-module_disabled__CIBGS\"};","import { type FC } from 'react';\nimport cx from 'classnames';\n\nimport { useIsImageSelected } from '../../../editor/hooks/useIsImageSelected';\nimport { useSelectedTool } from '../../hooks/useSelectedTool';\n\nimport { Tool } from '../../data/sharedEnums';\n\nimport Picker from '../../../../assets/icons/color-picker.svg';\n\nimport styles from './sidebar.module.scss';\n\nexport const Sidebar: FC = () => {\n  const { toggleSelectedTool, selectedTool } = useSelectedTool();\n  const [isImageSelected] = useIsImageSelected();\n\n  return (\n    <div className={styles.sidebar}>\n      <div\n        className={cx(styles.tool, {\n          [styles.selected]: selectedTool === Tool.ColorPicker,\n          [styles.disabled]: !isImageSelected,\n        })}\n        onClick={isImageSelected ? () => toggleSelectedTool(Tool.ColorPicker) : undefined}\n        title=\"Color Picker\"\n      >\n        <Picker />\n      </div>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"header-module_header__RfgIn\",\"title\":\"header-module_title__h0rnJ\"};","import { type FC } from 'react';\n\nimport styles from './header.module.scss';\n\nexport const Header: FC = () => (\n  <div className={styles.header}>\n    <p className={styles.title}>Photo Editor</p>\n  </div>\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"editor\":\"editor-module_editor__OJira\",\"body\":\"editor-module_body__IQlzl\",\"content\":\"editor-module_content__iecjR\",\"info\":\"editor-module_info__hOy0Q\",\"selectedColor\":\"editor-module_selectedColor__RwADC\",\"pickerDiameter\":\"editor-module_pickerDiameter__uKlf7\",\"select\":\"editor-module_select__ye_CL\",\"cross\":\"editor-module_cross__BCC_o\",\"image\":\"editor-module_image__R5gvA\",\"canvas\":\"editor-module_canvas__AvWtd\",\"hiddenCanvas\":\"editor-module_hiddenCanvas__tOZR_\",\"picker\":\"editor-module_picker__C6fXS\"};","import { type FC, useRef } from 'react';\nimport cx from 'classnames';\n\nimport { ImagePicker } from '../ImagePicker/ImagePicker';\n\nimport { ColorPickerPreview } from '../../../color/components/ColorPickerPreview/ColorPickerPreview';\nimport { Sidebar } from '../../../shared/components/Sidebar/Sidebar';\nimport { Header } from '../../../shared/components/Header/Header';\n\nimport { EditorContext } from '../../data/editorContext';\n\nimport { useSelectedColor } from '../../../color/hooks/useSelectedColor';\nimport { useSelectedTool } from '../../../shared/hooks/useSelectedTool';\nimport { useBlocksCount } from '../../../color/hooks/useBlocksCount';\nimport { useIsImageSelected } from '../../hooks/useIsImageSelected';\n\nimport { Tool } from '../../../shared/data/sharedEnums';\n\nimport styles from './editor.module.scss';\n\nexport const Editor: FC = () => {\n  const canvasCtxRef = useRef<CanvasRenderingContext2D | null>(null);\n  const hiddenCanvasRef = useRef<HTMLCanvasElement | null>(null);\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n  const imageRef = useRef<HTMLImageElement | null>(null);\n\n  const [isImageSelected, setIsImageSelected] = useIsImageSelected();\n  const { selectedTool, toggleSelectedTool } = useSelectedTool();\n  const [selectedColor, setSelectedColor] = useSelectedColor();\n  const [blocksCount, setBlocksCount] = useBlocksCount();\n\n  const canvasClassnames = cx(styles.canvas, { [styles.picker]: selectedTool === Tool.ColorPicker });\n\n  return (\n    <EditorContext.Provider\n      value={{\n        hiddenCanvasRef,\n        canvasCtxRef,\n        canvasRef,\n        imageRef,\n      }}\n    >\n      <div className={styles.editor}>\n        <Header />\n        <div className={styles.body}>\n          <Sidebar />\n          <div className={styles.content}>\n            <div className={styles.info}>\n              {selectedColor && (\n                <p className={styles.selectedColor} style={{ borderColor: selectedColor }}>\n                  Selected color - <span>{selectedColor}</span>\n                </p>\n              )}\n              {selectedTool === Tool.ColorPicker && (\n                <div className={styles.pickerDiameter}>\n                  <p>Picker diameter -&nbsp;</p>\n                  <select\n                    className={styles.select}\n                    onChange={({ currentTarget: { value } }) => setBlocksCount(+value)}\n                    value={blocksCount}\n                  >\n                    <option value={2}>5</option>\n                    <option value={5}>11</option>\n                    <option value={10}>21</option>\n                    <option value={15}>31</option>\n                  </select>\n                </div>\n              )}\n              {isImageSelected && (\n                <span\n                  onClick={() => {\n                    setIsImageSelected(false);\n                    setSelectedColor('');\n                    toggleSelectedTool(null);\n                  }}\n                  className={styles.cross}\n                >\n                  X\n                </span>\n              )}\n            </div>\n            <div className={styles.image}>\n              <canvas className={cx(canvasClassnames, styles.hiddenCanvas)} ref={hiddenCanvasRef} />\n              <canvas className={canvasClassnames} ref={canvasRef} />\n              <ImagePicker />\n            </div>\n          </div>\n        </div>\n        <ColorPickerPreview />\n      </div>\n    </EditorContext.Provider>\n  );\n};\n","import { type FC } from 'react';\nimport { RecoilRoot } from 'recoil';\n\nimport { Editor } from '../modules/editor/components/Editor/Editor';\n\nexport const App: FC = () => (\n  <RecoilRoot>\n    <Editor />\n  </RecoilRoot>\n);\n","// eslint-disable-next-line @typescript-eslint/no-restricted-imports\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\n\nimport './assets/styles/index.css';\n\nimport { App } from './app/App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root') as HTMLElement);\n\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkphoto_editor\"] = self[\"webpackChunkphoto_editor\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [216], function() { return __webpack_require__(485); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_path","selectedToolAtom","atom","key","default","coordsAtom","x","y","canvasDimensionsAtom","undefined","mouseIsOutAtom","isImageSelectedAtom","useIsImageSelected","useRecoilState","editorContext","hiddenCanvasRef","canvasCtxRef","canvasRef","imageRef","EditorContext","createContext","useCanvasRef","useContext","useCanvasCtxRef","useImageRef","useDrawCanvas","drawCanvas","useCallback","canvasDimensions","imageElement","current","dpr","window","devicePixelRatio","hiddenCtx","getContext","alpha","willReadFrequently","ctx","scaleY1","height","scaleX1","width","scaleY2","scaleX2","scale","Math","min","style","concat","drawImage","useCanvasDimensions","_useRecoilState","_useRecoilState2","_slicedToArray","setCanvasDimensions","_useIsImageSelected","isImageSelected","useEffect","onResize","dimensions","parentElement","getClientRects","addEventListener","removeEventListener","ImagePicker","_useIsImageSelected2","imageSelected","setIsImageSelected","fileInputRef","useRef","value","_jsxs","className","cx","styles","_defineProperty","children","_jsx","accept","onChange","event","_event$target$files","image","target","files","document","createElement","onload","src","URL","createObjectURL","ref","type","role","onClick","_fileInputRef$current","click","useSelectedTool","selectedTool","setSelectedTool","toggleSelectedTool","tool","selectedColorAtom","blocksCountAtom","useSelectedColor","useBlocksCount","Tool","rgbToHex","r","arguments","length","g","b","console","error","toString","_extends","Object","assign","bind","i","source","prototype","hasOwnProperty","call","apply","this","props","xmlns","fill","viewBox","fillRule","d","clipRule","ColorPickerPreview","_canvasDimensions$lef","_canvasDimensions$top","_previewerRef$current","_previewerRef$current2","_previewerRef$current3","_previewerRef$current4","_useState","useState","_useState2","colors","setColors","_useSelectedColor","setSelectedColor","_useCoords","_useCoords2","coords","setCoords","_useBlocksCount","blocksCount","mouseIsOut","setMouseIsOut","canvas","onMouseLeave","onMouseEnter","useMouseIsOut","previewerRef","onMouseMove","pageX","left","pageY","top","pixels","getImageData","data","newColors","hex","color","slice","push","onSelectColor","isPicking","ColorPicker","midIndex","display","previewHeight","clientHeight","previewWidth","clientWidth","overlayTop","innerHeight","innerWidth","Circle","map","backgroundColor","index","border","borderBottomColor","borderTopColor","borderRightColor","borderLeftColor","flexBasis","Sidebar","_cx","_useSelectedTool","title","Picker","Header","Editor","_useSelectedColor2","selectedColor","_useBlocksCount2","setBlocksCount","canvasClassnames","Provider","borderColor","_ref","currentTarget","App","RecoilRoot","ReactDOM","getElementById","render","React","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","splice","n","getter","__esModule","a","definition","o","defineProperty","enumerable","get","obj","prop","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","__webpack_exports__"],"sourceRoot":""}